<body>
<script>
function log(msg) {
  let e = document.createElement('div');
  e.innerText = msg;
  document.body.appendChild(e);
}

(function() {
function foo(a) {
  var y = 1;
  var x = 0;
  var z = 0;
  if (a == NaN) z = NaN;
  if (a) {
    x = 0;
    y = -1;
    z = -0;
  }
  
  return Object.is(z + (x * y), -0);
}
// %PrepareFunctionForOptimization(foo);
// foo(false);
// %OptimizeFunctionOnNextCall(foo);
// foo(false);
for (let i = 0; i < 0x100000; ++i)
  foo(false);
log(foo(true));
})()
</script>
</body>
